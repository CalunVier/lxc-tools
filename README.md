# lxc-proxy
[English](README.md) | [简体中文](README_cn.md)

Creates port forwarding using standard input/output of `lxc-attach`.  
The code was generated by AI, and I personally don't know how to write Bash.  
However, the script has been lightly tested and is basically usable.  
Bash experts are welcome to optimize the code.

Currently, only TCP connections are supported (I haven’t reviewed the UDP code yet).

## Dependencies
- socat (Both container and host need to be installed)
- getopt

## Usage
```
Usage: $(basename "$0") -n NAME [-l [ADDR:]PORT] [-d [ADDR:]PORT]
  -n, --name         LXC container name (required)
  -l, --listen       Local listen address and port, format addr:port or port (default 0.0.0.0:PORT)
  -d, --destination  Destination address and port inside container, format addr:port or port (default 127.0.0.1:PORT)
  -h, --help         Show this help message
  ```

For example, to map port 22 in a container to 2222 on a host

```
# lxc-proxy -n container_name -l 2222 -d 22
Starting port forwarding: Host [0.0.0.0:2222] → Container container_name [127.0.0.1:22]
```
